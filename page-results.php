<?php get_header('slim'); ?>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css">
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
<?php
/**
 * Export to PHP Array plugin for PHPMyAdmin
 * @version 0.2b
 */

/**
 * Database `medialof_wp`
 */

/* `medialof_wp`.`wp_charity_survey` */
$wp_charity_survey = array(
  array('id' => '1','first_name' => 'John','last_name' => 'Smith','email' => 'sugarbuzzdesigns@gmail.com','charity' => 'music-unites','mc_id' => '67'),
  array('id' => '42','first_name' => 'Michelle','last_name' => 'Solie','email' => 'michelle.solie@medialoft.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '53','first_name' => 'Dan','last_name' => 'Choi','email' => 'Headmonkey@sbcglobal.net','charity' => 'music-unites','mc_id' => '6'),
  array('id' => '54','first_name' => 'Ed','last_name' => 'Racker','email' => 'info@edraeker.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '55','first_name' => 'Heather','last_name' => 'DiSesa','email' => 'heather.disesa@optum.com','charity' => 'all-stars','mc_id' => '4'),
  array('id' => '56','first_name' => '','last_name' => 'Greenblat','email' => 'Moriah.Greenblat@polaris.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '57','first_name' => 'Tom','last_name' => 'Gilbert','email' => 'tgilbert@gilins.com','charity' => 'all-stars','mc_id' => '1'),
  array('id' => '58','first_name' => '','last_name' => 'Wilson','email' => 'Reid.Wilson@polaris.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '59','first_name' => '','last_name' => 'Klis','email' => 'janet.klis@polaris.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '60','first_name' => '','last_name' => 'Warzecha','email' => 'Sarah.Warzecha@polaris.com','charity' => 'music-unites','mc_id' => '4'),
  array('id' => '61','first_name' => 'Joel','last_name' => 'Willert','email' => 'jwillert@gocitywide.com','charity' => 'all-stars','mc_id' => '64'),
  array('id' => '62','first_name' => '','last_name' => 'Means','email' => 'kendra.means@wagner-group.com','charity' => 'dreaming-zebra','mc_id' => '2147483647'),
  array('id' => '63','first_name' => 'Michele','last_name' => 'Lindell','email' => 'malindell@bremer.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '64','first_name' => '','last_name' => 'Campbell','email' => 'wanda.campbell@polaris.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '65','first_name' => 'Alex','last_name' => 'Alcantara','email' => 'Asquaredcreative@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '66','first_name' => 'Jeanne','last_name' => 'Crain','email' => 'jhcrain@bremer.com','charity' => 'music-unites','mc_id' => '99'),
  array('id' => '67','first_name' => '','last_name' => '','email' => 's.kane@1lightfilms.com','charity' => 'dreaming-zebra','mc_id' => '5'),
  array('id' => '68','first_name' => 'Erik','last_name' => 'Allen','email' => 'eallen@boulaygroup.com','charity' => 'all-stars','mc_id' => '2147483647'),
  array('id' => '69','first_name' => '','last_name' => 'Kingsley','email' => 'lisa.kingsley@polarisind.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '70','first_name' => 'Skye','last_name' => 'De La Cuz','email' => 'Skyed@media-services.com','charity' => 'all-stars','mc_id' => '9'),
  array('id' => '71','first_name' => 'Brandy','last_name' => 'Doyle','email' => 'brandy.doyle@optum.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '72','first_name' => '','last_name' => 'DiFuccia','email' => 'jason.difuccia@polaris.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '73','first_name' => '','last_name' => 'Niquette','email' => 'Jordan.Niquette@polaris.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '74','first_name' => 'John','last_name' => 'Zdechlik','email' => 'johnz@zsyst.com','charity' => 'music-unites','mc_id' => '200804'),
  array('id' => '78','first_name' => 'Jennifer','last_name' => 'Grauwels','email' => 'Jennifer.Grauwels@upsher-smith.com','charity' => 'dreaming-zebra','mc_id' => '6'),
  array('id' => '79','first_name' => 'Sara','last_name' => 'Miller','email' => 'Sara.Miller@upsher-smith.com','charity' => 'all-stars','mc_id' => '46'),
  array('id' => '81','first_name' => 'Jill','last_name' => 'Alford','email' => 'Jill.Alford@globoforce.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '82','first_name' => 'Linda','last_name' => 'Wilkinson','email' => 'Linda.Wilkinson@bestbuy.com','charity' => 'all-stars','mc_id' => '9428737'),
  array('id' => '84','first_name' => 'Brian','last_name' => 'Klein','email' => 'klein.brian@icloud.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '85','first_name' => 'Janet','last_name' => 'Garnaas','email' => 'jgarnaas@twirlevents.com','charity' => 'all-stars','mc_id' => '2147483647'),
  array('id' => '86','first_name' => 'Dan','last_name' => 'Peeples','email' => 'dan.peeples@medialoft.com','charity' => 'dreaming-zebra','mc_id' => '12'),
  array('id' => '88','first_name' => 'Kim','last_name' => 'Granger','email' => 'kim.granger@bsci.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '89','first_name' => 'Joel','last_name' => 'Grewett','email' => 'jgrewett@coca-cola.com','charity' => 'dreaming-zebra','mc_id' => '9497640'),
  array('id' => '90','first_name' => 'Matt','last_name' => 'Woestehoff','email' => 'matt@fndtn.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '91','first_name' => 'Carl','last_name' => 'White','email' => 'carl@sisterboss.com','charity' => 'dreaming-zebra','mc_id' => '62'),
  array('id' => '93','first_name' => 'Jason','last_name' => 'Stockman','email' => 'Jason.Stockman@upsher-smith.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '94','first_name' => 'Ian','last_name' => 'Corbin','email' => 'icorbin@periscope.com','charity' => 'music-unites','mc_id' => '9'),
  array('id' => '95','first_name' => 'Tara','last_name' => 'Guardado','email' => 'tara.guardado@optum.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '96','first_name' => 'Mike','last_name' => 'Matsumoto','email' => 'mike@conceptartists.com','charity' => 'music-unites','mc_id' => '70000000'),
  array('id' => '97','first_name' => '','last_name' => 'Wolverton','email' => 'Nicole.Wolverton@polaris.com','charity' => 'dreaming-zebra','mc_id' => '1'),
  array('id' => '100','first_name' => 'Natalie','last_name' => 'Kozitka','email' => 'Natalie.Kozitka@bsci.com','charity' => 'dreaming-zebra','mc_id' => '8'),
  array('id' => '101','first_name' => 'Diana','last_name' => 'Marinos','email' => 'Diana.Marinos@bsci.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '102','first_name' => 'Chris','last_name' => 'Mattson','email' => 'chris.mattson@implex.net','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '104','first_name' => 'Mieja','last_name' => 'Nelson','email' => 'mieja@blueribbontravel.com','charity' => 'all-stars','mc_id' => '3'),
  array('id' => '105','first_name' => 'Jeanne','last_name' => 'Christopher','email' => 'jeanne.christopher@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '106','first_name' => 'Marina','last_name' => 'Petro','email' => 'marina.petro@yum.com','charity' => 'dreaming-zebra','mc_id' => '8'),
  array('id' => '107','first_name' => 'Christine','last_name' => 'Mehrer','email' => 'christine.mehrer@bsci.com','charity' => 'music-unites','mc_id' => '20195'),
  array('id' => '108','first_name' => '','last_name' => 'Norman','email' => 'Nila.Norman@polaris.com','charity' => 'music-unites','mc_id' => '3'),
  array('id' => '109','first_name' => '','last_name' => 'Nadeau','email' => 'katie.nadeau@mnbp.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '111','first_name' => '','last_name' => 'Healy','email' => 'kathi@rmiselect.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '112','first_name' => '','last_name' => 'Nack','email' => 'Jenny.nack@polaris.com','charity' => 'dreaming-zebra','mc_id' => '5838'),
  array('id' => '113','first_name' => 'Kate','last_name' => 'Harri','email' => 'kate.workingsolutions@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '114','first_name' => 'Mike','last_name' => 'Dapper','email' => 'Dapperco@gmail.com','charity' => 'all-stars','mc_id' => '6'),
  array('id' => '115','first_name' => 'Marleni','last_name' => 'Jimenez','email' => 'MARLENI_JIMENEZ@homedepot.com','charity' => 'dreaming-zebra','mc_id' => '199'),
  array('id' => '117','first_name' => '','last_name' => 'Spaeth','email' => 'holly.spaeth@polaris.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '118','first_name' => 'Richard','last_name' => 'Osberg','email' => 'Richard.s.Osberg@optum.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '120','first_name' => '','last_name' => 'Scanlon','email' => 'craig.scanlon@polaris.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '121','first_name' => 'Stephen R.','last_name' => 'Eide','email' => 'Steve.Eide@gpmlaw.com','charity' => 'music-unites','mc_id' => '48350000'),
  array('id' => '122','first_name' => '','last_name' => 'Krois','email' => 'rod.krois@polaris.com','charity' => 'all-stars','mc_id' => '2147483647'),
  array('id' => '123','first_name' => 'Sara','last_name' => 'Chapman','email' => 'sara.chapman@dell.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '124','first_name' => 'Bob','last_name' => 'Oas','email' => 'Bob.Oas@DELL.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '125','first_name' => 'Christa','last_name' => 'Semko','email' => 'Christa.Semko@dell.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '126','first_name' => 'Derek','last_name' => 'Ytriede','email' => 'dytreeide@ctus.com','charity' => 'music-unites','mc_id' => '74'),
  array('id' => '127','first_name' => 'Lee','last_name' => 'Sandberg','email' => 'leesandberg@msn.com','charity' => 'music-unites','mc_id' => '2'),
  array('id' => '129','first_name' => '','last_name' => '','email' => 'Spitzbarth@yahoo-inc.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '131','first_name' => '','last_name' => 'Wine','email' => 'Scott.Wine@polaris.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '132','first_name' => 'Shallan','last_name' => 'Miller','email' => 'shallan_miller@optum.com','charity' => 'all-stars','mc_id' => '2'),
  array('id' => '133','first_name' => 'Kristen','last_name' => 'Hsu','email' => 'kristen.hsu@dell.com','charity' => 'dreaming-zebra','mc_id' => '36'),
  array('id' => '134','first_name' => '','last_name' => 'Duea','email' => 'kyle.duea@polaris.com','charity' => 'music-unites','mc_id' => '7000'),
  array('id' => '136','first_name' => 'Diane','last_name' => 'Cantrell','email' => 'Diane.Cantrell@dell.com','charity' => 'dreaming-zebra','mc_id' => '44829'),
  array('id' => '137','first_name' => '','last_name' => 'Jax','email' => 'aaron.jax@polaris.com','charity' => 'all-stars','mc_id' => '9946'),
  array('id' => '138','first_name' => 'Greg','last_name' => 'Christy','email' => 'Greg@bicts.com','charity' => 'all-stars','mc_id' => '81685'),
  array('id' => '139','first_name' => '','last_name' => 'Davis','email' => 'wayne@waynedavisphotography.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '140','first_name' => 'Nancy','last_name' => 'Foy','email' => 'Nancy.Foy@ipaper.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '141','first_name' => 'Bob','last_name' => 'Hawkinson','email' => 'bob.hawkinson@medialoft.com','charity' => 'dreaming-zebra','mc_id' => '282'),
  array('id' => '142','first_name' => 'Scott','last_name' => 'Hussey','email' => 'scott.hussey@upsher-smith.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '143','first_name' => '','last_name' => '','email' => 'keverson@emcllc.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '144','first_name' => 'Lauren','last_name' => 'Summers','email' => 'Lauren.Lockett@dell.com','charity' => 'all-stars','mc_id' => '2147483647'),
  array('id' => '145','first_name' => 'Seynabou','last_name' => 'Cisse-Wise','email' => 'seynabou.cisse@dell.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '146','first_name' => 'Jenn','last_name' => 'Krinke','email' => 'jenn.krinke@optum.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '147','first_name' => '','last_name' => 'Mulvaney','email' => 'luke.mulvaney@polaris.com','charity' => 'all-stars','mc_id' => '1'),
  array('id' => '148','first_name' => 'Nancy','last_name' => 'Young','email' => 'nyoung924@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '149','first_name' => 'Sherri','last_name' => 'Wiseman','email' => 'SWiseman@pacificlife.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '150','first_name' => 'Denise','last_name' => 'Doyle','email' => 'DeniseDoyle@HSFranchise.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '151','first_name' => 'Marcia','last_name' => 'Mueller','email' => 'Marcia.a.mueller@optum.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '152','first_name' => '','last_name' => 'Knutson','email' => 'marlysmknutson@gmail.com','charity' => 'all-stars','mc_id' => '7'),
  array('id' => '153','first_name' => 'Tom','last_name' => 'Franchette','email' => 'tfranchett@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '154','first_name' => 'Susan E.','last_name' => 'Wise','email' => 'swise@boulaygroup.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '155','first_name' => '','last_name' => '','email' => 'jesslouwagie@gmail.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '156','first_name' => 'Kara','last_name' => 'Barry','email' => 'Kara.Barry@yum.com','charity' => 'all-stars','mc_id' => '51'),
  array('id' => '157','first_name' => 'Gene','last_name' => 'Di Lorenzo','email' => 'gene@medialoft.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '158','first_name' => '','last_name' => 'Bohnsack','email' => 'Mike.Bohnsack@polaris.com','charity' => 'all-stars','mc_id' => '2'),
  array('id' => '159','first_name' => 'Andrea','last_name' => 'Riley','email' => 'andrea.riley@ally.com','charity' => 'all-stars','mc_id' => '96'),
  array('id' => '160','first_name' => '','last_name' => 'Hermes','email' => 'joshua.hermes@polaris.com','charity' => 'all-stars','mc_id' => '5'),
  array('id' => '161','first_name' => 'Rolf','last_name' => 'Christenson','email' => 'rchristenson@gray-bvc.com','charity' => 'music-unites','mc_id' => '1'),
  array('id' => '162','first_name' => 'Susan','last_name' => 'Hazlett','email' => 'susan.hazlett.irec@statefarm.com','charity' => 'music-unites','mc_id' => '1'),
  array('id' => '163','first_name' => 'Marilyn','last_name' => 'Olson','email' => 'Marilyn.Olson@Dell.com','charity' => 'music-unites','mc_id' => '3'),
  array('id' => '164','first_name' => 'Renee','last_name' => 'Christensen','email' => 'renee.c@comcast.net','charity' => 'music-unites','mc_id' => '506'),
  array('id' => '166','first_name' => '','last_name' => 'Kennedy','email' => 'Laurel.Kennedy@polaris.com','charity' => 'music-unites','mc_id' => '1'),
  array('id' => '167','first_name' => 'Skye','last_name' => 'De La Cuz','email' => 'Skyed@media-services.com','charity' => 'music-unites','mc_id' => '9'),
  array('id' => '169','first_name' => 'Donald ','last_name' => 'Kelsey','email' => 'ddkbjs@aol.com','charity' => 'music-unites','mc_id' => '5109'),
  array('id' => '170','first_name' => '','last_name' => 'Miriovsky','email' => 'Dave.Miriovsky@polaris.com','charity' => 'all-stars','mc_id' => '5842339'),
  array('id' => '171','first_name' => 'Mary Lou','last_name' => 'Wichlacz','email' => 'mlwichlacz@gmail.com','charity' => 'dreaming-zebra','mc_id' => '0'),
  array('id' => '172','first_name' => 'Kobi','last_name' => 'Conaway','email' => 'kobic@me.com','charity' => 'all-stars','mc_id' => '991'),
  array('id' => '173','first_name' => 'Sharon','last_name' => 'Essig','email' => 'Sharon.Essig@bsci.com','charity' => 'all-stars','mc_id' => '0'),
  array('id' => '174','first_name' => 'Mike','last_name' => 'Demarzo','email' => 'Michael.Demarzo@dell.com','charity' => 'music-unites','mc_id' => '0'),
  array('id' => '175','first_name' => 'David','last_name' => 'Kelsey','email' => 'david.kelsey@medialoft.com','charity' => 'dreaming-zebra','mc_id' => '205')
);

$charities = array_count_values(array_column($wp_charity_survey, 'charity'));
$total_votes = count($wp_charity_survey);

$name_lookup = [
  'music-unites' => 'Music Unites',
  'dreaming-zebra' => 'The Dreaming Zebra Foundation',
  'all-stars' => 'All Stars Project',
]
?>

<style>
  .wrap {
    width: 98%;
    padding-top: 50px;
    margin: 0 auto;
  }

  .totals {
    width: 60%;
    font-size: 14px;
  }
</style>

<div class="wrap">
  <h4>Total Votes: <?php echo $total_votes; ?></h4>
  <table class="totals table">
    <thead>
      <th>Charity</th>
      <th>Total</th>
      <th>Percentage</th>
    </thead>
    <tbody>
      <?php foreach ($charities as $key => $value) { ?>
      <tr>
        <td>
          <strong>
            <?php echo $name_lookup[$key]; ?>: 
          </strong>
        </td>  
        <td>
          <?php echo $value; ?>
        </td>
        <td>
          <?php $percentage = $value/$total_votes * 100; echo round($percentage, 2) . '%'; ?>
        </td>
      </tr>
      <?php } ?>
    </tbody>
  </table>
  <table id="dataTable" class="table">
    <thead>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Charity</th>
    </thead>  
    <tbody>
      <?php foreach ($wp_charity_survey as $value) { ?>
      <tr>
        <td><?php echo $value['first_name']; ?></td>
        <td><?php echo $value['last_name']; ?></td>
        <td><?php echo $value['email']; ?></td>
        <td><?php echo $value['charity']; ?></td>
      </tr>
      <?php } ?>
    </tbody>  
  </table>
</div>  

<?php get_footer('slim'); ?>

<script>
$(document).ready(function() {
    $('#dataTable').DataTable({
      "paging": false
    });
} );  
</script>